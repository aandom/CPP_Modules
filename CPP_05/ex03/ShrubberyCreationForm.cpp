/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ShrubberyCreationForm.cpp                          :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: aandom <aandom@student.abudhabi42.ae>      +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2023/10/03 04:57:23 by aandom            #+#    #+#             */
/*   Updated: 2023/10/03 15:38:54 by aandom           ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "ShrubberyCreationForm.hpp"

ShrubberyCreationForm::ShrubberyCreationForm(const std::string & target) : Form("ShrubberyCreationForm", 145, 137),
                                                                             _target(target) {
}

ShrubberyCreationForm::ShrubberyCreationForm(const ShrubberyCreationForm & src) : Form(src),
                                                                             _target(src._target) {    
}

ShrubberyCreationForm::~ShrubberyCreationForm() {
}

ShrubberyCreationForm & ShrubberyCreationForm::operator=(const ShrubberyCreationForm & src) {
    this->_target = src._target;
    return(*this);
}

// void    ShrubberyCreationForm::execute(Bureaucrat const & executor) const{
//     std::ofstream	ofs;

//     if (!this->getSigned()) {
//         throw Form::FormNotSignedException();
//     }
//     if (executor.getGrade() > this->getGToExec()) {
//         throw Form::GradeTooLowException();
//     }
//     else {
//         ofs.open((this->_target + "_shrubbery").c_str(), std::ofstream::out | std::ofstream::app);
//         if (ofs.is_open())
//         {
//             ofs << ShrubberyCreationForm::_asciiTree;
//             std::cout << "A shrubbery has been planted at " << _target << "_shrubbery." << std::endl;
//             ofs.close();
//         }
//     }
// }


void    ShrubberyCreationForm::undertakeExecution() const {
    
    std::ofstream	ofs;
    
    ofs.open((this->_target + "_shrubbery").c_str(), std::ofstream::out | std::ofstream::app);
    if (ofs.is_open())
    {
        ofs << ShrubberyCreationForm::_asciiTree_4;
        std::cout << "A shrubbery has been planted at " << _target << "_shrubbery." << std::endl;
        ofs.close();
    }
}




std::string const  ShrubberyCreationForm::_asciiTree = 
"\n"
"                %%%,%%%%%%%\n"
"                 ,'%% \\\\-*%%%%%%%\n"
"           ;%%%%%*%   _%%%%\"\n"
"            ,%%%       \\(_.*%%%%.\n"
"            % *%%, ,%%%%*(    '\n"
"          %^     ,*%%% )\\|,%%*%,_\n"
"               *%    \\/ #).-\"*%%*\n"
"                   _.) ,/ *%,\n"
"           _________/)#(_____________\n\n";


std::string const  ShrubberyCreationForm::_asciiTree_2 = 
"\n"
"          &&& &&  & &&\n"
"      && &\\/&\\|& ()|/ @, &&\n"
"      &\\/(/&/&||/& /_/)_&/_&\n"
"   &() &\\/&|()|/&\\/ '%' & ()\n"
"  &_\\_&&_\\ |& |&&/&__%_/_& &&\n"
"&&   && & &| &| /& & % ()& /&&\n"
" ()&_---()&\\&\\|&&-&&--%---()~\n"
"     &&     \\|||\n"
"             |||\n"
"             |||\n"
"             |||\n"
"       , -=-~  .-^- _\n\n";


std::string const  ShrubberyCreationForm::_asciiTree_3 = 
"\n"
"               ,@@@@@@@,\n \
       ,,,.   ,@@@@@@/@@,  .oo8888o.\n \
    ,&%%&%&&%,@@@@@/@@@@@@,8888\\88/8o\n \
   ,%&\\%&&%&&%,@@@\\@@@/@@@88\\88888/88'\n \
   %&&%&%&/%&&%@@\\@@/ /@@@88888\\88888'\n \
   %&&%/ %&%%&&@@\\ V /@@' `88\\8 `/88'\n \
   `&%\\ ` /%&'    |.|        \\ '|8'\n \
       |o|        | |         | |\n \
       |.|        | |         | |\n \
   __\\/ ._\\//_/__/  ,\\_//___\\/.  \\_//__/_\n\n";


std::string const  ShrubberyCreationForm::_asciiTree_4 = 
"\n"                                                                                                                  
"                                           .......=--:.........                                             \n \
                               ...........--...==--=-+---..........                                         \n \
                              ..-:--...-.==--=--=-+++*=---===:..-=-..                                       \n \
                          ... ..:-=-=+-=--==--=-+===+--+++=---++====..                                      \n \
                        .-------=+=-----=+==-==+*=--=--++==--++*=-==:::.....                                \n \
                      ...:==---=*+=+=-=--+**=-----++=---=====***-+*==++:....                                \n \
             .........=+=+++==--=+==--++++++==-+==++++*=---=*===**++==+++:..                                \n \
            .....--..:=-=++++=====+=-+*++==-+***++**++++=+++*====+====*+=.....                              \n \
            ...:==--+++=-=--++=--+==+++=--=+*++==*+=+==++==+===++==++++*+.....                              \n \
             ....-+**+==---==*+=+==--=++=+++====---===+=+=*+*+*****#####*++-.......                         \n \
             .....:+*+++===-=++=--++=+++***+**+==++**+**++++====+=++*+==+=--:.+-=..                         \n \
             ... ..++++=++====+=-=**==--===*==++==+*=#+**++==++==*===#===+++++++==....                      \n \
             ....:==----++===*==---+++=+#*==+++=*+===+=====****+*+*#**++++++++**#++=-:.....                 \n \
             ....::=======+**====++*+=*##==++*#***+++*+=++=++***++*==+++++***+++++++++=:.==:..              \n \
         ......-++****+====++===*#+=====#*=+====+==*==***++++==**##==++++++++++++**+++*#*+=+..              \n \
         ...:-=+====+===+**+***==+*##+=+***==+#==++==+=====***==*#*+++**+++++**+++++++##++*+=-.             \n \
        ..=++++*#**##*==++++#*==+###+=*===*+==+=+++*#+**=***+==+==*+*#***##**#++++++**++*#*+++....          \n \
      ..-*****++**+++#=++*#####+*#*+*++=++*=+#*==+==*#**+=**+#+*+=+#++****+**+++#*+**+++*+++#**:.           \n \
   :...+++****++++****+++*#**+*+##**##+**##+*#**=+++++*#+==+++***++*#**#*++++++******+***+#****...          \n \
 .=+++**+++++*****+++**+*#+++++****#**+*+++*++*%*+++++++*#**+++**++#++*+**+**###****+*#####%###**-.         \n \
 ...-*#**++++**+++****+##*+***+***##****+*+**##**+**++++**+++*##+###***##*#*++*****+**++++##++*++:.         \n \
    .=++++++*#*+++##*++##+*+*+*++++*+*+***+*####*-.=.*-:%**+#****+++#++*#*#***++*+##=*###+=*=.              \n \
    .=##*++++#*+****##******+#****###+******+*#**...+*-...=*--##*#****#++=+*#-#**#*++**###*=-.              \n \
    .=+=+++#**##++#%#*#+++*+**+*++#+##+=**#:-=..+-..:*-...+=..-==...--..-.....#+=*+#*++**=....              \n \
    ...+-*==+**%**+*+#**#*#**..:...-#%::=.=#=...:+..-*=...+-..==...--:...  .....:.=-....:.....              \n \
    ... ..........:.#=.:.........  ..+-.=..*#....*:.-*-...+:.==..:-....            .                        \n \
                                      ...=%*:+#=..*-:*=.-+=+===........                                     \n \
                                        .....%-%***+**-++===...........                                     \n \
                                        .  ...:*##***+++=:.............                                     \n \
                                            .....#*++++:..                                                  \n \
                                            .....+*+=+:...                                                  \n \
                                               ..=#+==....                                                  \n \
                                                .+*++-....                                                  \n \
                                            .....=#+*-....                                                  \n \
                                            .....+#=+=....                                                  \n \
                                            .....##+==....                                                  \n \
                                              ..#%*+==-....                                                 \n \
                                          ...:*%##*+===:.....                                               \n \
                                         ..+%#####****+=--=:...                                             \n \
                                     ...........+.:-.............                                    \n\n";